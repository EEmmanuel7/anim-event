var AnimEvent=function(){"use strict";function n(){var e,t;i&&(r.call(window,i),i=null),w.forEach(function(n){n.event&&(n.listener(n.event),n.event=null,e=!0)}),e?(u=Date.now(),t=!0):Date.now()-u<o&&(t=!0),t&&(i=a.call(window,n))}function e(n){var e=-1;return w.some(function(i,t){return i.listener===n?(e=t,!0):!1}),e}var i,t=1e3/60,o=500,a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,t)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(n){clearTimeout(n)},w=[],u=Date.now();return{add:function(t){var o;return-1===e(t)?(w.push(o={listener:t}),function(e){o.event=e,i||n()}):null},remove:function(n){var t;(t=e(n))>-1&&(w.splice(t,1),!w.length&&i&&(r.call(window,i),i=null))}}}();